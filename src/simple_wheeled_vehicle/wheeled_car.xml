<mujoco model="slow_smooth_car">
  <option timestep="0.002" integrator="Euler"/>
  <compiler angle="radian" coordinate="local" autolimits="false"/>

  <asset>
    <texture name="wheel" type="2d" builtin="checker" rgb1="0.1 0.1 0.1" rgb2="0.2 0.2 0.2" width="128" height="128"/>
    <material name="wheel" texture="wheel" texuniform="true" reflectance="0.2"/>
    <texture name="grid" type="2d" builtin="checker" width="512" height="512" rgb1="0.6 0.6 0.6" rgb2="0.8 0.8 0.8"/>
    <material name="grid" texture="grid" texuniform="true" reflectance="0.2"/>
  </asset>
  <default>
    <default class="wheel">
      <geom type="sphere" size="0.04" material="wheel"
            mass="0.25" friction="1.0 0.005 0.005"/>
    </default>
    <default class="arm">
      <joint type="hinge" axis="0 1 0" damping="15" stiffness="60"
             range="-0.02 0.04" limited="true"/>
    </default>
    <default class="steer">
      <joint type="hinge" axis="0 0 1" damping="5" limited="false"/>
    </default>
    <!-- 电机：去掉 damping，仅用 ctrlrange 限扭 -->
    <default class="drive">
      <motor ctrlrange="-1.2 1.2" ctrllimited="true" gear="30"/>
    </default>
    <default class="servo">
      <motor ctrlrange="-0.3 0.3" ctrllimited="true" gear="15"/>
    </default>
  </default>

  <worldbody>
    <geom name="floor" type="plane" size="10 10 0.1" material="grid"/>

    <body name="chassis" pos="0 0 0.03">
      <freejoint/>
      <geom name="body" type="box" size="0.18 0.22 0.02" pos="0 0 -0.02" rgba="0.9 0.2 0.2 1" mass="3"/>
      <geom type="box" size="0.18 0.22 0.04" rgba="0.9 0.2 0.2 1" contype="0" conaffinity="0"/>

      <body name="front_left_hub" pos="0.16 0.17 0">
        <inertial pos="0 0 0" mass="0.05" diaginertia="1e-4 1e-4 1e-4"/>
        <joint name="fl_steer" class="steer"/>
        <body name="fl_arm" pos="0 0 0">
          <inertial pos="0 0 0" mass="0.05" diaginertia="1e-4 1e-4 1e-4"/>
          <joint name="fl_arm_hinge" axis="0 1 0" damping="12" stiffness="60" range="-0.02 0.04" limited="true"/>
          <body name="fl_wheel" pos="0 0 -0.04">
            <joint name="fl_drive" type="hinge" axis="0 1 0" damping="0.1"/>
            <geom class="wheel" pos="0 0 0"/>
          </body>
        </body>
      </body>

      <body name="front_right_hub" pos="0.16 -0.17 0">
        <inertial pos="0 0 0" mass="0.05" diaginertia="1e-4 1e-4 1e-4"/>
        <joint name="fr_steer" class="steer"/>
        <body name="fr_arm" pos="0 0 0">
          <inertial pos="0 0 0" mass="0.05" diaginertia="1e-4 1e-4 1e-4"/>
          <joint name="fr_arm_hinge" axis="0 1 0" damping="12" stiffness="60" range="-0.02 0.04" limited="true"/>
          <body name="fr_wheel" pos="0 0 -0.04">
            <joint name="fr_drive" type="hinge" axis="0 1 0" damping="0.1"/>
            <geom class="wheel" pos="0 0 0"/>
          </body>
        </body>
      </body>

      <body name="rear_left" pos="-0.16 0.17 0">
        <inertial pos="0 0 0" mass="0.05" diaginertia="1e-4 1e-4 1e-4"/>
        <joint name="rl_arm_hinge" axis="0 1 0" damping="12" stiffness="60" range="-0.02 0.04" limited="true"/>
        <body name="rl_wheel" pos="0 0 -0.04">
          <joint name="rl_drive" type="hinge" axis="0 1 0" damping="0.1"/>
          <geom class="wheel" pos="0 0 0"/>
        </body>
      </body>

      <body name="rear_right" pos="-0.16 -0.17 0">
        <inertial pos="0 0 0" mass="0.05" diaginertia="1e-4 1e-4 1e-4"/>
        <joint name="rr_arm_hinge" axis="0 1 0" damping="12" stiffness="60" range="-0.02 0.04" limited="true"/>
        <body name="rr_wheel" pos="0 0 -0.04">
          <joint name="rr_drive" type="hinge" axis="0 1 0" damping="0.1"/>
          <geom class="wheel" pos="0 0 0"/>
        </body>
      </body>

      <body name="cam" pos="-0.3 0 0.15" quat="0.819 0.573 0 0">
        <camera name="track" mode="track" pos="0 0 0" xyaxes="1 0 0  0 0 1" fovy="50"/>
      </body>
    </body>
  </worldbody>

  <actuator>
    <motor name="steer_fl" joint="fl_steer" class="servo"/>
    <motor name="steer_fr" joint="fr_steer" class="servo"/>
    <motor name="drive_fl" joint="fl_drive" class="drive"/>
    <motor name="drive_fr" joint="fr_drive" class="drive"/>
    <motor name="drive_rl" joint="rl_drive" class="drive"/>
    <motor name="drive_rr" joint="rr_drive" class="drive"/>
  </actuator>
</mujoco>