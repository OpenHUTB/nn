<!-- 拟人化双腿双臂机器人模型（彻底修复geom属性冲突） -->
<mujoco model="Humanoid_Robot">
  <!-- 仿真环境参数：保持步长稳定性，添加皮肤摩擦避免打滑 -->
  <option timestep="0.01" gravity="0 0 -9.81" integrator="RK4"/>

  <default>
    <!-- 修复：默认模板只保留通用属性，删除fromto（避免继承冲突） -->
    <geom rgba="0.8 0.8 0.8 1"/>
    <joint type="hinge" limited="true" damping="0.1"/> <!-- 关节添加阻尼，运动更平滑 -->
  </default>

  <!-- 资源定义：材质区分不同身体部位 -->
  <asset>
    <material name="torso_red" rgba="0.9 0.2 0.2 1"/>    <!-- 躯干红色 -->
    <material name="limb_blue" rgba="0.2 0.3 0.9 1"/>    <!-- 四肢蓝色 -->
    <material name="joint_gray" rgba="0.5 0.5 0.5 1"/>   <!-- 关节灰色 -->
    <material name="foot_green" rgba="0.2 0.8 0.2 1"/>   <!-- 脚部绿色 -->
    <material name="hand_yellow" rgba="0.9 0.7 0.1 1"/>  <!-- 手部黄色 -->
  </asset>

  <!-- 世界实体 -->
  <worldbody>
    <!-- 地面：添加摩擦系数，防止机器人打滑 -->
    <body name="ground">
      <geom type="plane" size="15 15 0.1" rgba="0.3 0.3 0.3 1" friction="1.5 0.1 0.1"/>
    </body>

    <!-- 机器人躯干（核心主体） -->
    <body name="torso" pos="0 0 0.8">
      <inertial pos="0 0 0" mass="3.0" diaginertia="0.5 0.5 0.3"/> <!-- 躯干质量最大，保证稳定性 -->
      <geom type="box" size="0.3 0.2 0.4" material="torso_red"/> <!-- 长方体躯干（无fromto） -->

      <!-- 颈部关节（连接头部） -->
      <body name="neck" pos="0 0 0.4">
        <joint name="neck_joint" axis="0 1 0" range="-0.3 0.3"/>
        <geom type="sphere" size="0.15" material="joint_gray"/> <!-- 球形头部（无fromto） -->
        <inertial pos="0 0 0" mass="0.5" diaginertia="0.05 0.05 0.05"/>
      </body>

      <!-- =================== 左臂结构 =================== -->
      <body name="left_shoulder" pos="0.3 0 0.2">
        <!-- 肩关节：可在前后方向转动 -->
        <joint name="left_shoulder_joint" axis="0 1 0" range="-0.8 0.8"/>
        <geom type="sphere" size="0.1" material="joint_gray"/> <!-- 肩关节球（无fromto） -->

        <!-- 左上臂（胶囊体，显式指定fromto） -->
        <body name="left_upper_arm" pos="0 0 0">
          <joint name="left_elbow_joint" axis="0 1 0" range="-1.2 0.2" pos="0 0 0.3"/>
          <geom type="capsule" size="0.07 0.15" fromto="0 0 0 0 0 0.3" material="limb_blue"/>
          <inertial pos="0 0 0.15" mass="0.8" diaginertia="0.1 0.1 0.1"/>

          <!-- 左前臂（胶囊体，显式指定fromto） -->
          <body name="left_forearm" pos="0 0 0.3">
            <joint name="left_wrist_joint" axis="0 1 0" range="-1.0 1.0" pos="0 0 0.25"/>
            <geom type="capsule" size="0.06 0.125" fromto="0 0 0 0 0 0.25" material="limb_blue"/>
            <inertial pos="0 0 0.125" mass="0.5" diaginertia="0.05 0.05 0.05"/>

            <!-- 左手：立方体（无fromto） -->
            <body name="left_hand" pos="0 0 0.25">
              <geom type="box" size="0.09 0.07 0.05" material="hand_yellow"/>
              <inertial pos="0 0 0" mass="0.2" diaginertia="0.02 0.02 0.02"/>
            </body>
          </body>
        </body>
      </body>

      <!-- =================== 右臂结构 =================== -->
      <body name="right_shoulder" pos="-0.3 0 0.2">
        <joint name="right_shoulder_joint" axis="0 1 0" range="-0.8 0.8"/>
        <geom type="sphere" size="0.1" material="joint_gray"/> <!-- 肩关节球（无fromto） -->

        <!-- 右上臂（胶囊体，显式指定fromto） -->
        <body name="right_upper_arm" pos="0 0 0">
          <joint name="right_elbow_joint" axis="0 1 0" range="-1.2 0.2" pos="0 0 0.3"/>
          <geom type="capsule" size="0.07 0.15" fromto="0 0 0 0 0 0.3" material="limb_blue"/>
          <inertial pos="0 0 0.15" mass="0.8" diaginertia="0.1 0.1 0.1"/>

          <!-- 右前臂（胶囊体，显式指定fromto） -->
          <body name="right_forearm" pos="0 0 0.3">
            <joint name="right_wrist_joint" axis="0 1 0" range="-1.0 1.0" pos="0 0 0.25"/>
            <geom type="capsule" size="0.06 0.125" fromto="0 0 0 0 0 0.25" material="limb_blue"/>
            <inertial pos="0 0 0.125" mass="0.5" diaginertia="0.05 0.05 0.05"/>

            <!-- 右手：立方体（无fromto） -->
            <body name="right_hand" pos="0 0 0.25">
              <geom type="box" size="0.09 0.07 0.05" material="hand_yellow"/>
              <inertial pos="0 0 0" mass="0.2" diaginertia="0.02 0.02 0.02"/>
            </body>
          </body>
        </body>
      </body>

      <!-- =================== 左腿结构 =================== -->
      <body name="left_hip" pos="0.15 0 -0.4">
        <!-- 髋关节：前后摆动关节 -->
        <joint name="left_hip_joint" axis="0 1 0" range="-0.6 0.9"/>
        <geom type="sphere" size="0.12" material="joint_gray"/> <!-- 髋关节球（无fromto） -->

        <!-- 左大腿（胶囊体，显式指定fromto） -->
        <body name="left_thigh" pos="0 0 0">
          <joint name="left_knee_joint" axis="0 1 0" range="-1.5 0.1" pos="0 0 -0.4"/>
          <geom type="capsule" size="0.09 0.2" fromto="0 0 0 0 0 -0.4" material="limb_blue"/>
          <inertial pos="0 0 -0.2" mass="1.2" diaginertia="0.2 0.2 0.2"/>

          <!-- 左小腿（胶囊体，显式指定fromto） -->
          <body name="left_calf" pos="0 0 -0.4">
            <joint name="left_ankle_joint" axis="0 1 0" range="-0.5 0.5" pos="0 0 -0.35"/>
            <geom type="capsule" size="0.08 0.175" fromto="0 0 0 0 0 -0.35" material="limb_blue"/>
            <inertial pos="0 0 -0.175" mass="0.8" diaginertia="0.1 0.1 0.1"/>

            <!-- 左脚：扁平立方体（无fromto） -->
            <body name="left_foot" pos="0 0 -0.35">
              <geom type="box" size="0.12 0.08 0.04" material="foot_green" pos="0 0 -0.02"/>
              <inertial pos="0 0 -0.02" mass="0.3" diaginertia="0.03 0.03 0.01"/>
            </body>
          </body>
        </body>
      </body>

      <!-- =================== 右腿结构 =================== -->
      <body name="right_hip" pos="-0.15 0 -0.4">
        <joint name="right_hip_joint" axis="0 1 0" range="-0.6 0.9"/>
        <geom type="sphere" size="0.12" material="joint_gray"/> <!-- 髋关节球（无fromto） -->

        <!-- 右大腿（胶囊体，显式指定fromto） -->
        <body name="right_thigh" pos="0 0 0">
          <joint name="right_knee_joint" axis="0 1 0" range="-1.5 0.1" pos="0 0 -0.4"/>
          <geom type="capsule" size="0.09 0.2" fromto="0 0 0 0 0 -0.4" material="limb_blue"/>
          <inertial pos="0 0 -0.2" mass="1.2" diaginertia="0.2 0.2 0.2"/>

          <!-- 右小腿（胶囊体，显式指定fromto） -->
          <body name="right_calf" pos="0 0 -0.4">
            <joint name="right_ankle_joint" axis="0 1 0" range="-0.5 0.5" pos="0 0 -0.35"/>
            <geom type="capsule" size="0.08 0.175" fromto="0 0 0 0 0 -0.35" material="limb_blue"/>
            <inertial pos="0 0 -0.175" mass="0.8" diaginertia="0.1 0.1 0.1"/>

            <!-- 右脚：扁平立方体（无fromto） -->
            <body name="right_foot" pos="0 0 -0.35">
              <geom type="box" size="0.12 0.08 0.04" material="foot_green" pos="0 0 -0.02"/>
              <inertial pos="0 0 -0.02" mass="0.3" diaginertia="0.03 0.03 0.01"/>
            </body>
          </body>
        </body>
      </body>
    </body>
  </worldbody>

  <!-- 执行器：为每个活动关节配置电机，扭矩适配肢体质量 -->
  <actuator>
    <!-- 腿部电机 -->
    <motor name="left_hip_motor" joint="left_hip_joint" gear="15" ctrllimited="true" ctrlrange="0 1.0"/>
    <motor name="left_knee_motor" joint="left_knee_joint" gear="12" ctrllimited="true" ctrlrange="0 1.0"/>
    <motor name="left_ankle_motor" joint="left_ankle_joint" gear="8" ctrllimited="true" ctrlrange="0 1.0"/>
    <motor name="right_hip_motor" joint="right_hip_joint" gear="15" ctrllimited="true" ctrlrange="0 1.0"/>
    <motor name="right_knee_motor" joint="right_knee_joint" gear="12" ctrllimited="true" ctrlrange="0 1.0"/>
    <motor name="right_ankle_motor" joint="right_ankle_joint" gear="8" ctrllimited="true" ctrlrange="0 1.0"/>

    <!-- 手臂电机 -->
    <motor name="left_shoulder_motor" joint="left_shoulder_joint" gear="10" ctrllimited="true" ctrlrange="0 1.0"/>
    <motor name="left_elbow_motor" joint="left_elbow_joint" gear="8" ctrllimited="true" ctrlrange="0 1.0"/>
    <motor name="left_wrist_motor" joint="left_wrist_joint" gear="5" ctrllimited="true" ctrlrange="0 1.0"/>
    <motor name="right_shoulder_motor" joint="right_shoulder_joint" gear="10" ctrllimited="true" ctrlrange="0 1.0"/>
    <motor name="right_elbow_motor" joint="right_elbow_joint" gear="8" ctrllimited="true" ctrlrange="0 1.0"/>
    <motor name="right_wrist_motor" joint="right_wrist_joint" gear="5" ctrllimited="true" ctrlrange="0 1.0"/>

    <!-- 颈部电机 -->
    <motor name="neck_motor" joint="neck_joint" gear="3" ctrllimited="true" ctrlrange="0 1.0"/>
  </actuator>
</mujoco>

