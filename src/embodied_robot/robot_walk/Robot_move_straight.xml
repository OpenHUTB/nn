<?xml version="1.0" encoding="UTF-8"?>
<mujoco model="DeepMind Humanoid with Dynamic Obstacles and Patrol Points">
  <compiler angle="radian" inertiafromgeom="true"/>
  <option timestep="0.005" integrator="RK4" gravity="0 0 -9.81"/>

  <!-- Visual materials definition -->
  <asset>
    <material name="humanoid_material" rgba="0.8 0.6 0.4 1"/>
    <material name="obstacle_material" rgba="0.8 0.2 0.2 0.8"/>
    <material name="target_material" rgba="1 0 0 1"/>
    <material name="target_base_material" rgba="0.8 0 0 1"/>
    <texture name="grid" type="2d" builtin="checker" rgb1="0.8 0.8 0.8" rgb2="0.6 0.6 0.6" width="512" height="512"/>
    <material name="floor_material" texture="grid" texrepeat="10 10" reflectance="0.1"/>
  </asset>

  <!-- World body: floor + obstacles + patrol points -->
  <worldbody>
    <!-- Floor -->
    <geom name="floor" type="plane" size="20 20 0.1" material="floor_material" condim="3"/>

    <!-- Fixed obstacle (wall1) -->
    <body name="wall1" pos="3 0 0.5">
      <inertial pos="0 0 0" mass="100.0" diaginertia="10.0 10.0 10.0"/>
      <geom name="wall1_geom" type="box" size="0.3 1.0 1.0" material="obstacle_material" condim="3"/>
    </body>

    <!-- Dynamic obstacle 1 (wall2: Sinusoidal Y+Z motion) -->
    <body name="wall2_base" pos="5 0 0">
      <inertial pos="0 0 0" mass="100.0" diaginertia="10.0 10.0 10.0"/>
      <!-- Y-axis slide joint -->
      <joint name="wall2_slide_y" type="slide" axis="0 1 0" pos="0 0 0"/>
      <!-- Z-axis slide joint -->
      <body name="wall2_z_base" pos="0 0 0.5">
        <inertial pos="0 0 0" mass="50.0" diaginertia="5.0 5.0 5.0"/>
        <joint name="wall2_slide_z" type="slide" axis="0 0 1" pos="0 0 0"/>
        <!-- Obstacle body -->
        <body name="wall2" pos="0 0 0">
          <inertial pos="0 0 0" mass="50.0" diaginertia="5.0 5.0 5.0"/>
          <geom name="wall2_geom" type="box" size="0.3 1.0 1.0" material="obstacle_material" condim="3"/>
        </body>
      </body>
    </body>

    <!-- Dynamic obstacle 2 (wall3: Random walk X+Y) -->
    <body name="wall3_base" pos="6 0 0">
      <inertial pos="0 0 0" mass="100.0" diaginertia="10.0 10.0 10.0"/>
      <!-- X-axis slide joint -->
      <joint name="wall3_slide_x" type="slide" axis="1 0 0" pos="0 0 0"/>
      <!-- Y-axis slide joint -->
      <body name="wall3_y_base" pos="0 0 0.5">
        <inertial pos="0 0 0" mass="50.0" diaginertia="5.0 5.0 5.0"/>
        <joint name="wall3_slide_y" type="slide" axis="0 1 0" pos="0 0 0"/>
        <!-- Obstacle body -->
        <body name="wall3" pos="0 0 0">
          <inertial pos="0 0 0" mass="50.0" diaginertia="5.0 5.0 5.0"/>
          <geom name="wall3_geom" type="box" size="0.3 1.0 1.0" material="obstacle_material" condim="3"/>
        </body>
      </body>
    </body>

    <!-- Dynamic obstacle 3 (wall4: Circular motion) -->
    <body name="wall4_rot_base" pos="8 0 0">
      <inertial pos="0 0 0" mass="100.0" diaginertia="10.0 10.0 10.0"/>
      <!-- Rotation joint -->
      <joint name="wall4_rotate" type="hinge" axis="0 0 1" pos="0 0 0"/>
      <!-- Radial slide joint -->
      <body name="wall4_rad_base" pos="1.2 0 0.5">
        <inertial pos="0 0 0" mass="50.0" diaginertia="5.0 5.0 5.0"/>
        <joint name="wall4_radial" type="slide" axis="1 0 0" pos="0 0 0"/>
        <!-- Obstacle body -->
        <body name="wall4" pos="0 0 0">
          <inertial pos="0 0 0" mass="50.0" diaginertia="5.0 5.0 5.0"/>
          <geom name="wall4_geom" type="cylinder" size="0.3 1.0" material="obstacle_material" condim="3"/>
        </body>
      </body>
    </body>

    <!-- Patrol points configuration -->
    <!-- Patrol target 1 (Start point) -->
    <body name="patrol_target_1" pos="0 0 0.2">
      <inertial pos="0 0 0" mass="0.1" diaginertia="0.01 0.01 0.01"/>
      <geom name="patrol_marker_1" type="sphere" size="0.15" material="target_material" condim="3"/>
      <geom name="patrol_base_1" type="cylinder" size="0.18 0.02" material="target_base_material" condim="3"/>
    </body>
    <!-- Patrol target 2 (First patrol point) -->
    <body name="patrol_target_2" pos="4 -2 0.2">
      <inertial pos="0 0 0" mass="0.1" diaginertia="0.01 0.01 0.01"/>
      <geom name="patrol_marker_2" type="sphere" size="0.15" rgba="0 1 0 1" condim="3"/>
      <geom name="patrol_base_2" type="cylinder" size="0.18 0.02" rgba="0 0.8 0 1" condim="3"/>
    </body>
    <!-- Patrol target 3 (Second patrol point) -->
    <body name="patrol_target_3" pos="8 2 0.2">
      <inertial pos="0 0 0" mass="0.1" diaginertia="0.01 0.01 0.01"/>
      <geom name="patrol_marker_3" type="sphere" size="0.15" rgba="0 0 1 1" condim="3"/>
      <geom name="patrol_base_3" type="cylinder" size="0.18 0.02" rgba="0 0 0.8 1" condim="3"/>
    </body>
    <!-- Patrol target 4 (Third patrol point) -->
    <body name="patrol_target_4" pos="10 -1 0.2">
      <inertial pos="0 0 0" mass="0.1" diaginertia="0.01 0.01 0.01"/>
      <geom name="patrol_marker_4" type="sphere" size="0.15" rgba="1 1 0 1" condim="3"/>
      <geom name="patrol_base_4" type="cylinder" size="0.18 0.02" rgba="1 0.8 0 1" condim="3"/>
    </body>
    <!-- Patrol target 5 (Final patrol point) -->
    <body name="patrol_target_5" pos="12 0 0.2">
      <inertial pos="0 0 0" mass="0.1" diaginertia="0.01 0.01 0.01"/>
      <geom name="patrol_marker_5" type="sphere" size="0.15" rgba="1 0 1 1" condim="3"/>
      <geom name="patrol_base_5" type="cylinder" size="0.18 0.02" rgba="0.8 0 0.8 1" condim="3"/>
    </body>

    <!-- DeepMind Humanoid Robot -->
    <body name="torso" pos="0 0 1.4">
      <inertial pos="0 0 0" mass="10.0" diaginertia="1.0 1.0 1.0"/>
      <geom name="torso_geom" type="capsule" size="0.2" fromto="0 0 0.2 0 0 -0.2" material="humanoid_material"/>

      <!-- Torso joints -->
      <joint name="abdomen_x" type="hinge" axis="1 0 0" pos="0 0 0"/>
      <joint name="abdomen_y" type="hinge" axis="0 1 0" pos="0 0 0"/>
      <joint name="abdomen_z" type="hinge" axis="0 0 1" pos="0 0 0"/>

      <!-- Head -->
      <body name="head" pos="0 0 0.3">
        <inertial pos="0 0 0" mass="1.0" diaginertia="0.1 0.1 0.1"/>
        <geom name="head_geom" type="sphere" size="0.15" material="humanoid_material"/>
      </body>

      <!-- Right arm -->
      <body name="right_shoulder" pos="0.2 0 0.1">
        <inertial pos="0 0 0" mass="1.0" diaginertia="0.1 0.1 0.1"/>
        <joint name="shoulder1_right" type="hinge" axis="1 0 0" pos="0 0 0"/>
        <joint name="shoulder2_right" type="hinge" axis="0 1 0" pos="0 0 0"/>
        <geom name="right_upper_arm" type="capsule" size="0.08" fromto="0 0 0 0.3 0 0" material="humanoid_material"/>
        <body name="right_elbow" pos="0.3 0 0">
          <inertial pos="0 0 0" mass="0.5" diaginertia="0.05 0.05 0.05"/>
          <joint name="elbow_right" type="hinge" axis="1 0 0" pos="0 0 0"/>
          <geom name="right_lower_arm" type="capsule" size="0.06" fromto="0 0 0 0.25 0 0" material="humanoid_material"/>
        </body>
      </body>

      <!-- Left arm -->
      <body name="left_shoulder" pos="-0.2 0 0.1">
        <inertial pos="0 0 0" mass="1.0" diaginertia="0.1 0.1 0.1"/>
        <joint name="shoulder1_left" type="hinge" axis="1 0 0" pos="0 0 0"/>
        <joint name="shoulder2_left" type="hinge" axis="0 1 0" pos="0 0 0"/>
        <geom name="left_upper_arm" type="capsule" size="0.08" fromto="0 0 0 -0.3 0 0" material="humanoid_material"/>
        <body name="left_elbow" pos="-0.3 0 0">
          <inertial pos="0 0 0" mass="0.5" diaginertia="0.05 0.05 0.05"/>
          <joint name="elbow_left" type="hinge" axis="1 0 0" pos="0 0 0"/>
          <geom name="left_lower_arm" type="capsule" size="0.06" fromto="0 0 0 -0.25 0 0" material="humanoid_material"/>
        </body>
      </body>

      <!-- Right leg -->
      <body name="right_hip" pos="0.1 0 -0.3">
        <inertial pos="0 0 0" mass="2.0" diaginertia="0.2 0.2 0.2"/>
        <joint name="hip_x_right" type="hinge" axis="1 0 0" pos="0 0 0"/>
        <joint name="hip_y_right" type="hinge" axis="0 1 0" pos="0 0 0"/>
        <joint name="hip_z_right" type="hinge" axis="0 0 1" pos="0 0 0"/>
        <geom name="right_thigh" type="capsule" size="0.1" fromto="0 0 0 0 0 -0.4" material="humanoid_material"/>
        <body name="right_knee" pos="0 0 -0.4">
          <inertial pos="0 0 0" mass="1.5" diaginertia="0.15 0.15 0.15"/>
          <joint name="knee_right" type="hinge" axis="1 0 0" pos="0 0 0"/>
          <geom name="right_shin" type="capsule" size="0.08" fromto="0 0 0 0 0 -0.4" material="humanoid_material"/>
          <body name="right_ankle" pos="0 0 -0.4">
            <inertial pos="0 0 0" mass="0.5" diaginertia="0.05 0.05 0.05"/>
            <joint name="ankle_x_right" type="hinge" axis="1 0 0" pos="0 0 0"/>
            <joint name="ankle_y_right" type="hinge" axis="0 1 0" pos="0 0 0"/>
            <geom name="right_foot" type="capsule" size="0.08" fromto="0 0 0 0 0 -0.15" material="humanoid_material"/>
          </body>
        </body>
      </body>

      <!-- Left leg -->
      <body name="left_hip" pos="-0.1 0 -0.3">
        <inertial pos="0 0 0" mass="2.0" diaginertia="0.2 0.2 0.2"/>
        <joint name="hip_x_left" type="hinge" axis="1 0 0" pos="0 0 0"/>
        <joint name="hip_y_left" type="hinge" axis="0 1 0" pos="0 0 0"/>
        <joint name="hip_z_left" type="hinge" axis="0 0 1" pos="0 0 0"/>
        <geom name="left_thigh" type="capsule" size="0.1" fromto="0 0 0 0 0 -0.4" material="humanoid_material"/>
        <body name="left_knee" pos="0 0 -0.4">
          <inertial pos="0 0 0" mass="1.5" diaginertia="0.15 0.15 0.15"/>
          <joint name="knee_left" type="hinge" axis="1 0 0" pos="0 0 0"/>
          <geom name="left_shin" type="capsule" size="0.08" fromto="0 0 0 0 0 -0.4" material="humanoid_material"/>
          <body name="left_ankle" pos="0 0 -0.4">
            <inertial pos="0 0 0" mass="0.5" diaginertia="0.05 0.05 0.05"/>
            <joint name="ankle_x_left" type="hinge" axis="1 0 0" pos="0 0 0"/>
            <joint name="ankle_y_left" type="hinge" axis="0 1 0" pos="0 0 0"/>
            <geom name="left_foot" type="capsule" size="0.08" fromto="0 0 0 0 0 -0.15" material="humanoid_material"/>
          </body>
        </body>
      </body>
    </body>
  </worldbody>

  <!-- Actuators definition (robot + obstacles) -->
  <actuator>
    <!-- Torso actuators -->
    <motor name="abdomen_x" joint="abdomen_x" ctrlrange="-1.0 1.0" gear="150.0"/>
    <motor name="abdomen_y" joint="abdomen_y" ctrlrange="-1.0 1.0" gear="150.0"/>
    <motor name="abdomen_z" joint="abdomen_z" ctrlrange="-1.0 1.0" gear="150.0"/>

    <!-- Right arm actuators -->
    <motor name="shoulder1_right" joint="shoulder1_right" ctrlrange="-1.0 1.0" gear="50.0"/>
    <motor name="shoulder2_right" joint="shoulder2_right" ctrlrange="-1.0 1.0" gear="50.0"/>
    <motor name="elbow_right" joint="elbow_right" ctrlrange="-1.0 1.0" gear="50.0"/>

    <!-- Left arm actuators -->
    <motor name="shoulder1_left" joint="shoulder1_left" ctrlrange="-1.0 1.0" gear="50.0"/>
    <motor name="shoulder2_left" joint="shoulder2_left" ctrlrange="-1.0 1.0" gear="50.0"/>
    <motor name="elbow_left" joint="elbow_left" ctrlrange="-1.0 1.0" gear="50.0"/>

    <!-- Right leg actuators -->
    <motor name="hip_x_right" joint="hip_x_right" ctrlrange="-1.0 1.0" gear="200.0"/>
    <motor name="hip_y_right" joint="hip_y_right" ctrlrange="-1.0 1.0" gear="200.0"/>
    <motor name="hip_z_right" joint="hip_z_right" ctrlrange="-1.0 1.0" gear="200.0"/>
    <motor name="knee_right" joint="knee_right" ctrlrange="-1.0 1.0" gear="200.0"/>
    <motor name="ankle_x_right" joint="ankle_x_right" ctrlrange="-1.0 1.0" gear="100.0"/>
    <motor name="ankle_y_right" joint="ankle_y_right" ctrlrange="-1.0 1.0" gear="100.0"/>

    <!-- Left leg actuators -->
    <motor name="hip_x_left" joint="hip_x_left" ctrlrange="-1.0 1.0" gear="200.0"/>
    <motor name="hip_y_left" joint="hip_y_left" ctrlrange="-1.0 1.0" gear="200.0"/>
    <motor name="hip_z_left" joint="hip_z_left" ctrlrange="-1.0 1.0" gear="200.0"/>
    <motor name="knee_left" joint="knee_left" ctrlrange="-1.0 1.0" gear="200.0"/>
    <motor name="ankle_x_left" joint="ankle_x_left" ctrlrange="-1.0 1.0" gear="100.0"/>
    <motor name="ankle_y_left" joint="ankle_y_left" ctrlrange="-1.0 1.0" gear="100.0"/>

    <!-- Dynamic obstacle actuators -->
    <!-- Obstacle 2 (wall2) actuators -->
    <motor name="wall2_motor_y" joint="wall2_slide_y" ctrlrange="-5.0 5.0" gear="10.0"/>
    <motor name="wall2_motor_z" joint="wall2_slide_z" ctrlrange="0.0 2.0" gear="8.0"/>

    <!-- Obstacle 3 (wall3) actuators -->
    <motor name="wall3_motor_x" joint="wall3_slide_x" ctrlrange="4.0 8.0" gear="10.0"/>
    <motor name="wall3_motor_y" joint="wall3_slide_y" ctrlrange="-3.0 3.0" gear="10.0"/>

    <!-- Obstacle 4 (wall4) actuators -->
    <motor name="wall4_motor_rot" joint="wall4_rotate" ctrlrange="-10.0 10.0" gear="5.0"/>
    <motor name="wall4_motor_rad" joint="wall4_radial" ctrlrange="0.5 2.0" gear="8.0"/>
  </actuator>

  <!-- Contact settings (explicit pairs, no wildcards) -->
  <contact>
    <!-- Robot-floor contact -->
    <pair geom1="floor" geom2="right_foot" friction="1.0 0.1 0.01"/>
    <pair geom1="floor" geom2="left_foot" friction="1.0 0.1 0.01"/>
    <pair geom1="floor" geom2="torso_geom" friction="0.5 0.1 0.01"/>
    <pair geom1="floor" geom2="head_geom" friction="0.5 0.1 0.01"/>
    <pair geom1="floor" geom2="right_upper_arm" friction="0.5 0.1 0.01"/>
    <pair geom1="floor" geom2="left_upper_arm" friction="0.5 0.1 0.01"/>
    <pair geom1="floor" geom2="right_lower_arm" friction="0.5 0.1 0.01"/>
    <pair geom1="floor" geom2="left_lower_arm" friction="0.5 0.1 0.01"/>
    <pair geom1="floor" geom2="right_thigh" friction="0.5 0.1 0.01"/>
    <pair geom1="floor" geom2="left_thigh" friction="0.5 0.1 0.01"/>
    <pair geom1="floor" geom2="right_shin" friction="0.5 0.1 0.01"/>
    <pair geom1="floor" geom2="left_shin" friction="0.5 0.1 0.01"/>

    <!-- Robot-obstacle contact -->
    <pair geom1="wall1_geom" geom2="torso_geom" friction="0.8 0.1 0.01"/>
    <pair geom1="wall1_geom" geom2="right_foot" friction="0.8 0.1 0.01"/>
    <pair geom1="wall1_geom" geom2="left_foot" friction="0.8 0.1 0.01"/>
    <pair geom1="wall2_geom" geom2="torso_geom" friction="0.8 0.1 0.01"/>
    <pair geom1="wall2_geom" geom2="right_foot" friction="0.8 0.1 0.01"/>
    <pair geom1="wall2_geom" geom2="left_foot" friction="0.8 0.1 0.01"/>
    <pair geom1="wall3_geom" geom2="torso_geom" friction="0.8 0.1 0.01"/>
    <pair geom1="wall3_geom" geom2="right_foot" friction="0.8 0.1 0.01"/>
    <pair geom1="wall3_geom" geom2="left_foot" friction="0.8 0.1 0.01"/>
    <pair geom1="wall4_geom" geom2="torso_geom" friction="0.8 0.1 0.01"/>
    <pair geom1="wall4_geom" geom2="right_foot" friction="0.8 0.1 0.01"/>
    <pair geom1="wall4_geom" geom2="left_foot" friction="0.8 0.1 0.01"/>

    <!-- Obstacle-obstacle contact -->
    <pair geom1="wall1_geom" geom2="wall2_geom" friction="0.5 0.1 0.01"/>
    <pair geom1="wall1_geom" geom2="wall3_geom" friction="0.5 0.1 0.01"/>
    <pair geom1="wall1_geom" geom2="wall4_geom" friction="0.5 0.1 0.01"/>
    <pair geom1="wall2_geom" geom2="wall3_geom" friction="0.5 0.1 0.01"/>
    <pair geom1="wall2_geom" geom2="wall4_geom" friction="0.5 0.1 0.01"/>
    <pair geom1="wall3_geom" geom2="wall4_geom" friction="0.5 0.1 0.01"/>
  </contact>
</mujoco>